<div class="flex justify-start items-center space-x-5">
    <i class="fa-solid fa-chevron-left cursor-pointer" (click)="moveToBack()"></i>
    <h1 class="primaryTxt font-semibold text-2xl leading-9">{{SubjectName}} {{WeekName}}</h1>
</div>

<div *ngIf="mode=='Activity'" class="flex justify-start items-center space-x-5 mt-5">
    <button class="secondaryBg text-white rounded-lg px-4 py-3 flex items-center justify-center gap-2"
        (click)="GetActivityData()">
        <i class="fa-solid fa-puzzle-piece"></i>
        Lessons Activity
    </button>
    <button class="bg-[#EBEBEB] text-[#6F6F6F] rounded-lg px-4 py-3 flex items-center justify-center gap-2"
        (click)="GetResourceData()">
        <i class="fas fa-solid fa-book-open"></i>
        Lessons Resources
    </button>
</div>

<div *ngIf="mode=='Resource'" class="flex justify-start items-center space-x-5 mt-5">
    <button class="bg-[#EBEBEB] text-[#6F6F6F] rounded-lg px-4 py-3 flex items-center justify-center gap-2"
        (click)="GetActivityData()">
        <i class="fa-solid fa-puzzle-piece"></i>
        Lessons Activity
    </button>
    <button class="secondaryBg text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2"
        (click)="GetResourceData()">
        <i class="fas fa-solid fa-book-open"></i>
        Lessons Resources
    </button>
</div>

<div *ngIf="mode === 'Activity'" class="mt-5">
    <div class="space-y-3">
        <div *ngFor="let sheet of LessonActivityTypeData; let i = index">
            <!-- Main clickable header -->
            <div [ngStyle]="{ 'background-color': getRandomColor(i) }"
                class="flex justify-between items-center px-4 py-3 rounded-lg shadow-sm cursor-pointer transition"
                (click)="toggleActivity(i)">
                <div class="flex items-center space-x-2">
                    <img src="Icons/sheet.png" alt="icon" class="w-6 h-6" />
                    <span class="font-semibold text-[#003366] text-lg">{{ sheet.englishName }}</span>
                </div>
                <i class="fas text-gray-600" [ngClass]="{
                    'fa-chevron-down': !toggledIndexesActivity.has(i),
                    'fa-chevron-up': toggledIndexesActivity.has(i)
                    }"></i>
            </div>
            <!-- Activity list -->
            <div *ngIf="toggledIndexesActivity.has(i)" class="mt-2 space-y-2 ml-8">
                <div *ngFor="let activity of sheet.activities" (click)="openLinkActivity(activity.attachmentLink)"
                    class="flex items-center space-x-2 cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition">
                    <i class="fas fa-file-pdf"></i>
                    <span class="text-gray-700">{{ activity.englishTitle }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="mode === 'Resource'" class="mt-5">
    <div class="space-y-3">
        <div *ngFor="let sheet of LessonResourcesTypeData; let i = index">
            <!-- Main clickable header -->
            <div [ngStyle]="{ 'background-color': getRandomColor(i) }"
                class="flex justify-between items-center px-4 py-3 rounded-lg shadow-sm cursor-pointer transition"
                (click)="toggleResource(i)">
                <div class="flex items-center space-x-2">
                    <img src="Icons/sheet.png" alt="icon" class="w-6 h-6" />
                    <span class="font-semibold text-[#003366] text-lg">{{ sheet.englishName }}</span>
                </div>
                <i class="fas text-gray-600" [ngClass]="{
                    'fa-chevron-down': !toggledIndexesResource.has(i),
                    'fa-chevron-up': toggledIndexesResource.has(i)
                    }"></i>
            </div>
            <!-- Activity list -->
            <div *ngIf="toggledIndexesResource.has(i)" class="mt-2 space-y-2 ml-8">
                <div *ngFor="let activity of sheet.resources" (click)="openLinkResource(activity.attachmentLink)"
                    class="flex items-center space-x-2 cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition">
                    <i class="fas fa-file-pdf"></i>
                    <span class="text-gray-700">{{ activity.englishTitle }}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="announcements.length > 0" class="relative w-full h-80 rounded-b-lg bg-[#e7e7e769] mb-3">
    <!-- Carousel wrapper -->
    <div class="h-full flex justify-center items-center">
        <div *ngFor="let announcement of announcements; let i = index" class="h-full"
            [ngClass]="{'hidden': selectedIndex !== i}">
            <img [src]="announcement.imageLink" class="h-full rounded-b-lg m-auto" alt="ERP System Image">  
        </div>
    </div>

    <div *ngIf="announcements.length > 0" class="mt-3">
        <div class="w-full px-4">
            <div *ngIf="announcements[selectedIndex]?.title"
                class="bg-white shadow-sm rounded-md px-4 py-2 text-sm font-medium text-[#394B6E] 
                        overflow-hidden whitespace-nowrap text-ellipsis"
                [attr.title]="announcements[selectedIndex].title">
            {{ announcements[selectedIndex].title }}
            </div>
        </div>
    </div>

    <!-- Slider indicators -->
   <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
        <button *ngFor="let announcement of announcements; let i = index" 
                (click)="setSelectedIndex(i)"
                [class.bg-[#089B41]]="selectedIndex === i"   
                [class.bg-[#394b6e77]]="selectedIndex != i"   
                [class.ring-2]="selectedIndex === i"    
                [class.ring-[#089B41]]="selectedIndex === i"  
                class="w-3 h-3 rounded-full cursor-pointer"
                [attr.aria-label]="'Slide' + (i + 1)">
        </button>
    </div>


    <!-- Slider controls (previous and next) -->
    <button type="button"
        class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        (click)="prevSlide()" aria-label="Previous">
        <span
            class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 
            dark:bg-[#394B6E]/30 group-hover:bg-white/50 dark:group-hover:bg-[#394B6E]/60">
            <svg class="w-4 h-4 text-[#394B6E] rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M5 1 1 5l4 4" />
            </svg>
            <span class="sr-only">Previous</span>
        </span>
    </button>

    <button type="button"
        class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        (click)="nextSlide()" aria-label="Next">
        <span
            class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 
            dark:bg-[#394B6E]/30 group-hover:bg-white/50 dark:group-hover:bg-[#394B6E]/60">
            <svg class="w-4 h-4 text-[#394B6E] rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m1 9 4-4-4-4" />
            </svg>
            <span class="sr-only">Next</span>
        </span>
    </button>
</div>

<div class="flex justify-between items-center mt-16">
    <div class="flex justify-between items-center space-x-5 rtl:space-x-reverse">
        <h1 class="primaryTxt font-semibold text-2xl leading-9">{{ 'Subjects' | translate }}</h1>
    </div>
</div>

<div class="flex flex-wrap justify-center gap-10 mt-6">
    <div *ngFor="let subject of subjectData" class="w-[44%] bg-[#F7F7F7] rounded-2xl p-1 shadow text-center overflow-hidden">
        <h1 class="text-lg font-bold text-[#003366] mb-4">{{ subject.en_name }}</h1>
        <img *ngIf="subject.iconLink" [src]="subject.iconLink" alt="Subject Icon" (click)="moveToWeeks(subject.id)"
            class="mx-auto mb-4 w-[80%] h-[100px] object-contain rounded-md cursor-pointer" />
        <div class="flex flex-wrap justify-center gap-3 text-sm text-[#4F4F4F]">
            <div class="flex items-center justify-center gap-2 w-[45%] py-2 px-2 bg-white border border-gray-200  rounded-xl shadow-sm hover:bg-[#003366] hover:text-white  transition duration-300 cursor-pointer overflow-hidden"
                (click)="moveToSubjectAssignments(subject.id)">
                <img src="Icons/Assignments.png" alt="Assignments" class="w-2 h-4 object-contain" />
                <span class="font-medium whitespace-nowrap">{{ 'Assignments' | translate }}</span>
            </div>
            <div class="flex items-center justify-center gap-2 w-[45%] py-2 px-2 bg-white border border-gray-200 rounded-xl shadow-sm hover:bg-[#003366] hover:text-white transition duration-300 cursor-pointer overflow-hidden" (click)="moveToSubjectResources(subject.id)">
                <img src="Icons/Resources.png" alt="Resources" class="w-4 h-4 object-contain" />
                <span class="font-medium whitespace-nowrap">{{ 'Resources' | translate }}</span>
            </div>
            <div class="flex items-center justify-center gap-2 w-[45%] py-2 px-2 bg-white border border-gray-200 rounded-xl shadow-sm hover:bg-[#003366] hover:text-white transition duration-300 cursor-pointer overflow-hidden" (click)="moveToSubjectLive(subject.id)">
                <img src="Icons/LessonLive.png" alt="Lesson Live" class="w-4 h-4 object-contain" />
                <span class="font-medium whitespace-nowrap">{{ 'Lesson Live' | translate }}</span>
            </div>
        </div>
    </div>
</div>


<div class="flex justify-between">
    <h1 class="primaryTxt font-semibold text-2xl leading-9">{{ 'Hygiene Forms' | translate }}</h1>

    <div class="flex justify-between items-center">
        <app-search [keysArray]="keysArray" (searchEvent)="onSearchEvent($event)"></app-search>
        <button (click)="navigateToCreateHygieneForm()"
            class="font-medium rounded-lg px-4 py-2 flex items-center justify-center gap-2 secondaryBorder secondaryTxt">
            {{'Create'| translate }} {{ 'Hygiene Form' | translate }}
        </button>
    </div>
</div>

<!-- Reusable Table Component -->

<app-table [headers]="GetTableHeaders()" [data]="hygieneForms"
    [keys]="['id','school', 'grade', 'classRoom', 'date']" [showViewAction]="true" [showEditAction]="false"
    (delete)="deleteHygieneForm($event)" (edit)="openModal($event.id)" (view)="onView($event)">
</app-table> 

<div class="mt-8 flex justify-between items-center">
    <div class="flex items-center space-x-4  rtl:space-x-reverse">
        <button class="flex items-center space-x-2 rounded-lg border py-3 px-4  rtl:space-x-reverse" (click)="changeCurrentPage(CurrentPage-1)"
        [disabled]="CurrentPage === 1 || hygieneForms.length == 0"
        [ngClass]="{'cursor-not-allowed opacity-50': CurrentPage === 1 || hygieneForms.length == 0}">
            <i class="fa-solid fa-arrow-left"></i>
            <p> {{'Previous'| translate }}</p>
        </button>
        <div class="flex">
            <div *ngFor="let page of visiblePages"
                class="rounded-lg py-[10px] w-[40px]"
                [ngClass]="{ 'border': page === CurrentPage, 'hover:bg-gray-100': page !== CurrentPage }"
                (click)="changeCurrentPage(page)">
                <p class="cursor-pointer text-center">{{ page }}</p>
            </div>
        </div>
        <button class="flex items-center space-x-2 rounded-lg border py-3 px-4  rtl:space-x-reverse" (click)="changeCurrentPage(CurrentPage+1)"
        [disabled]="CurrentPage === TotalPages || hygieneForms.length == 0"
        [ngClass]="{'cursor-not-allowed opacity-50': CurrentPage === TotalPages || hygieneForms.length == 0}">
            <p> {{'Next'| translate }}</p> 
            <i class="fa-solid fa-arrow-right"></i>
        </button>
    </div>

    <div class="flex items-center space-x-2 rtl:space-x-reverse">
        <input  (input)="validateNumberPage($event)" class="rounded-lg border py-3 px-4 w-[73px]" [(ngModel)]="PageSize" min="1" (input)="validatePageSize($event)" (ngModelChange)="changeCurrentPage(CurrentPage)">
        <p> {{'items Per Page'| translate }}</p>
    </div>

    <div>
        <p>{{CurrentPage}}  {{'of'| translate }} {{TotalPages}} {{'pages'| translate }} ({{TotalRecords}}  {{'Item'| translate }})</p>
    </div>
</div>